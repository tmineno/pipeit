# SDR receiver benchmark â€” multi-rate chain with shared buffer
# Two tasks: capture FFT + reduction, lower-rate demodulation.
#
# Exercises: shared buffers, multi-rate, FFT, FIR, decimation

param gain = 1.0

clock 10kHz capture {
    constant(0.0) | mul($gain) | fft(256) | :spec | c2r() | mean(256) -> baseband
    :spec | mag(256) | mean(256) | stdout()
}

clock 1kHz demod {
    @baseband | decimate(10) | mul(1.0) | stdout()
}
