# Modal benchmark - CSDF mode switching
# Tests control flow and mode transition overhead

clock 50kHz adaptive {
    control {
        adc(0) | detect() -> ctrl
    }
    mode low {
        adc(1) | mul(1.0) | stdout()
    }
    mode high {
        adc(2) | mul(2.0) | stdout()
    }
    switch(ctrl, low, high) default low
}
